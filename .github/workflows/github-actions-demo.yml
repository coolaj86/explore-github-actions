name: GitHub Actions Demo
on: [push]
jobs:
    Explore-GitHub-Actions:
        runs-on: ubuntu-latest
        steps:
            - run: echo "üéâ The job was automatically triggered by a ${{ github.event_name }} event."
            - run: echo "üêß This job is now running on a ${{ runner.os }} server hosted by GitHub!"
            - run: echo "üîé The name of your branch is ${{ github.ref }} and your repository is ${{ github.repository }}."
            - name: Check out repository code
              uses: actions/checkout@v2
            - run: echo "üí° The ${{ github.repository }} repository has been cloned to the runner."
            - run: echo "üñ•Ô∏è The workflow is now ready to test your code on the runner."
            - name: List files in the repository
              run: |
                  ls . > cwd.txt
                  ls ${{ github.workspace }} > workspace.txt
            - run: ls /bin > bin.txt
            - run: ls /sbin || true > sbin.txt
            - run: ls /usr/bin > usr-bin.txt
            - run: ls /usr/sbin || true > usr-sbin.txt
            - run: ls /usr/local/bin || true > usr-local-bin.txt
            - run: ls /usr/local/sbin || true > user-local-sbin.txt
            - run: ls ~/.local/bin || true > home-local-bin.txt
            - run: cat "${GITHUB_PATH}" > github-path.txt
            - run: echo "${PATH}" > path.txt
            - name: Webi
              run: |
                echo Home: "${HOME}"
                echo CWD: "$(pwd)"
                curl -sS https://webinstall.dev/ | bash
                echo "${HOME}/.local/bin" >> $GITHUB_PATH
                curl -sS https://webinstall.dev/node@14 | bash
                echo "${HOME}/.local/opt/node/bin" >> $GITHUB_PATH
                node --version
                curl -sS https://webinstall.dev/hugo | bash
                hugo version
            - name: Re-Commit
              run: |
                git config --global user.name 'Github Actions'
                git config --global user.email 'github-actions@users.noreply.github.com'
                git add *.txt || true
                git commit -m "update bins list" || true
                git push
            - run: echo "üçè This job's status is ${{ job.status }}."
